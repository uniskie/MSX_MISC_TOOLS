# LOADSRD.BAS

BSAVEされたスクリーンデータと、グラフサウルスのグラフィックデータを表示します。
ファイル名を拡張子まで含めて入力するとファイル名からフォーマットを判断します。
インターレース画像も対応します。

## BSAVEスクリーン画像
VRAMイメージバイナリ。ピクセルデータとパレットデータを含むVRAMイメージ。  
- `BSAVE"ファイル名",開始アドレス,終了アドレス,s`で保存したもの
- `BLOAD"ファイル名",s:color=restore`で表示できる

| 画面モード  | 拡張子  | 説明                                     |
|-------------|---------|------------------------------------------|
| SCREEN5     | SC5     | ピクセル&パレット                        |
|             | S50     | ピクセル&パレット、インターレースページ0 |
|             | S51     | ピクセル&パレット、インターレースページ1 |
| SCREEN7     | SC7     | ピクセル&パレット                        |
|             | S70     | ピクセル&パレット、インターレースページ0 |
|             | S71     | ピクセル&パレット、インターレースページ1 |
| SCREEN8     | SC8     | ピクセル&パレット                        |
|             | S80     | ピクセル&パレット、インターレースページ0 |
|             | S81     | ピクセル&パレット、インターレースページ1 |
| SCREEN10/11 | S10     | ピクセル&パレット                        |
|             | SA0     | ピクセル&パレット、インターレースページ0 |
|             | SA1     | ピクセル&パレット、インターレースページ1 |
| SCREEN12    | S12     | ピクセル&パレット                        |
|             | SC0     | ピクセル&パレット、インターレースページ0 |
|             | SC1     | ピクセル&パレット、インターレースページ1 |

## GRAPH ZAURUS画像
ピクセルデータとパレットデータに分かれている。  
- パレットデータは16色の8バンク切り替えにも対応
- _ランレングス圧縮されたデータにも対応_
- _インターレース画像はファイル名規則不明_

| 画面モード  | 拡張子  | 説明                                     |
|-------------|---------|------------------------------------------|
| SCREEN5     | SR5     | ピクセル(ベタまたはラレングス圧縮)       |
|             | PL5     | ピクセルデータ (16色バンク0～8個)        |
| SCREEN7     | SR7     | ピクセル(ベタまたはラレングス圧縮)       |
|             | PL7     | ピクセルデータ (16色バンク0～8個)        |
| SCREEN8     | SR8     | ピクセル(ベタまたはラレングス圧縮)       |
|             | PL8     | ピクセルデータ (16色バンク0～8個)        |
| SCREEN10/11 | SRA     | ピクセル(ベタまたはラレングス圧縮)       |
|             | PLA     | ピクセルデータ (16色バンク0～8個)        |
| SCREEN12    | SRC     | ピクセル(ベタまたはラレングス圧縮)       |
|             | PLC     | ピクセルデータ (16色バンク0～8個)        |

## ファイル説明

|ファイル     |説明|
|-------------|---
| [HIMEM.BAS  ](HIMEM.BAS  ) | フリーエリア先頭とスタックポインタのアドレスを表示。<br>LOADSRDの機械語プログラムが大きい為、フリーエリアがD500より低ければリセットしてCTRLを押しながら起動するなどしてメモリを開ける必要があります。|
| [LOADER.BAS ](LOADER.BAS ) |アスキーセーブされたLOADSRD.BAS
| [LOADSRD.ASF](LOADSRD.ASF) |機械語プログラムのアセンブラソース(MSX2 SIMPLE ASSEMBLER[^1]用)
| [LOADSRD.ASM](LOADSRD.ASM) |機械語プログラムのアセンブラソース([TNIASM][TNIASM]用)
| [LOADSRD.BAS](LOADSRD.BAS) |グラフィックローダープログラム本体
| [LOADSRD.BOF](LOADSRD.BOF) |グラフィックローダー機械語プログラムバイナリ

[^1]: バックアップ活用テクニック PART16掲載。POCO氏制作 MSX2用「アセンブルシステム」

[TNIASM]: http://www.tni.nl/products/tniasm.html
